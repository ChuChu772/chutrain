import{_ as M,u as Y,g as n,S as N,a as k,b as _,o as P,i as m,j as O,c as D,d as I,e as s,k as v,w as U,l as T,v as S}from"./index-DbqGOsvc.js";class h{constructor(t=0,a="Network Error"){this.status=t,this.text=a}}const W=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},l={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:W()},j=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},A=(e,t="https://api.emailjs.com")=>{if(!e)return;const a=j(e);l.publicKey=a.publicKey,l.blockHeadless=a.blockHeadless,l.storageProvider=a.storageProvider,l.blockList=a.blockList,l.limitRate=a.limitRate,l.origin=a.origin||t},R=async(e,t,a={})=>{const i=await fetch(l.origin+e,{method:"POST",headers:a,body:t}),r=await i.text(),c=new h(i.status,r);if(i.ok)return c;throw c},V=(e,t,a)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!a||typeof a!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},J=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},H=e=>e.webdriver||!e.languages||e.languages.length===0,x=()=>new h(451,"Unavailable For Headless Browser"),z=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},G=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},Q=(e,t)=>e instanceof FormData?e.get(t):e[t],B=(e,t)=>{if(G(e))return!1;z(e.list,e.watchVariable);const a=Q(t,e.watchVariable);return typeof a!="string"?!1:e.list.includes(a)},q=()=>new h(403,"Forbidden"),X=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},Z=async(e,t,a)=>{const i=Number(await a.get(e)||0);return t-Date.now()+i},K=async(e,t,a)=>{if(!t.throttle||!a)return!1;X(t.throttle,t.id);const i=t.id||e;return await Z(i,t.throttle,a)>0?!0:(await a.set(i,Date.now().toString()),!1)},C=()=>new h(429,"Too Many Requests"),$=async(e,t,a,i)=>{const r=j(i),c=r.publicKey||l.publicKey,u=r.blockHeadless||l.blockHeadless,b=r.storageProvider||l.storageProvider,p={...l.blockList,...r.blockList},f={...l.limitRate,...r.limitRate};return u&&H(navigator)?Promise.reject(x()):(V(c,e,t),J(a),a&&B(p,a)?Promise.reject(q()):await K(location.pathname,f,b)?Promise.reject(C()):R("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:c,service_id:e,template_id:t,template_params:a}),{"Content-type":"application/json"}))},ee=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},te=e=>typeof e=="string"?document.querySelector(e):e,se=async(e,t,a,i)=>{const r=j(i),c=r.publicKey||l.publicKey,u=r.blockHeadless||l.blockHeadless,b=l.storageProvider||r.storageProvider,p={...l.blockList,...r.blockList},f={...l.limitRate,...r.limitRate};if(u&&H(navigator))return Promise.reject(x());const y=te(a);V(c,e,t),ee(y);const d=new FormData(y);return B(p,d)?Promise.reject(q()):await K(location.pathname,f,b)?Promise.reject(C()):(d.append("lib_version","4.4.1"),d.append("service_id",e),d.append("template_id",t),d.append("user_id",c),R("/api/v1.0/email/send-form",d))},F={init:A,send:$,sendForm:se,EmailJSResponseStatus:h},ae={id:"smooth-wrapper"},oe={id:"smooth-content"},re={class:"con"},ie={class:"touch"},ne={class:"allcon"},le={__name:"Contact",setup(e){const t=Y();function a(){t.back()}n.registerPlugin(N,k,_),P(()=>{window.scrollTo(0,0),_.create({wrapper:"#smooth-wrapper",smooth:2,effects:!0})});const i=m(null),r=O({name:"",email:"",message:""}),c=()=>{i.value&&i.value.requestSubmit()},u=m(null),b=m(null),p=m(null),f=m(null),y=m(null),d=m(null),L=m(null);P(()=>{i.value&&F.init("fViVKY9Y7-jqKwrLC")});const E=async()=>{if(!i.value)return;if(!r.name.trim())return alert("請輸入姓名");if(!r.email.trim())return alert("請輸入 Email");if(!r.message.trim())return alert("請輸入訊息");n.set(u.value,{display:"flex",opacity:1});const w=()=>new Promise(o=>{n.to(u.value,{opacity:0,duration:999,ease:"linear",onComplete:o})});try{const o=w();await F.sendForm("PiPiChou","template_lgr3x68",i.value),i.value.reset(),setTimeout(()=>{n.to(u.value,{opacity:0,duration:1,display:"none"})},2e3),n.to(p.value,{scaleY:0,opacity:1,duration:.6}),n.to(f.value,{scaleY:1,opacity:1,duration:.6}),n.to(d.value,{opacity:1,duration:1})}catch(o){console.error("Failed to send email:",o),setTimeout(()=>{n.to(u.value,{opacity:0,duration:1,display:"none"})},2e3),n.to(p.value,{scaleY:0,opacity:1,duration:.6}),n.to(y.value,{scaleY:1,opacity:1,duration:.6}),n.to(L.value,{opacity:1,duration:1})}};return P(async()=>{await document.fonts.ready,n.registerPlugin(k),document.fonts.ready.then(()=>{let w=k.create(".tsma",{type:"words",aria:"hidden"});n.from(w.words,{y:10,opacity:0,duration:1.2,ease:"sine.out",stagger:.01,delay:2});let o=k.create(".tbig",{type:"chars",aria:"hidden"});n.from(o.chars,{y:10,opacity:0,duration:.6,ease:"sine.out",stagger:.01,delay:2})})}),P(()=>{n.to(".contact-form",{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",duration:1.5,delay:2.7,opacity:1,ease:"power4.out"}),n.from(".submit",{opacity:0,delay:3.5,duration:.6}),n.from(".tbot1",{opacity:0,delay:3.5,duration:.6})}),(w,o)=>(I(),D("div",ae,[s("div",oe,[s("div",{class:"contop",ref_key:"contop",ref:u},[s("div",{class:"loading",ref_key:"loading",ref:p},o[3]||(o[3]=[v(" Waiting"),s("span",{class:"dots"},[s("span",null,"."),s("span",null,"."),s("span",null,".")],-1)]),512),s("div",{class:"success",ref_key:"success",ref:f},o[4]||(o[4]=[s("p",null,"Success!",-1)]),512),s("div",{class:"failed",ref_key:"failed",ref:y},o[5]||(o[5]=[s("p",null,"Failed!",-1)]),512),s("div",{class:"contopw",ref_key:"contopw",ref:b},[s("p",{class:"cw1",ref_key:"cw1",ref:d},"Your message has been sent! Thank You!",512),s("p",{class:"cw2",ref_key:"cw2",ref:L},"Failed to send your message. Please try again.",512)],512)],512),s("div",re,[o[9]||(o[9]=s("div",{class:"contitle"},[s("p",{class:"tbig"},[v("Let's Be In"),s("br"),v("Touch")])],-1)),s("div",ie,[o[6]||(o[6]=s("div",{class:"ttop"},[s("p",{class:"tsma"},[v("I genuinely care about your ideas and your wellbeing. "),s("br"),v("Feel free to reach out — I’d love to hear from you...")])],-1)),s("form",{ref_key:"contactForm",ref:i,onSubmit:U(E,["prevent"]),class:"contact-form"},[s("div",ne,[T(s("input",{class:"i1","onUpdate:modelValue":o[0]||(o[0]=g=>r.name=g),name:"name",type:"text",placeholder:"name",required:""},null,512),[[S,r.name]]),T(s("input",{class:"i1","onUpdate:modelValue":o[1]||(o[1]=g=>r.email=g),name:"email",type:"email",placeholder:"@gmail.com",required:""},null,512),[[S,r.email]]),T(s("textarea",{class:"i2","onUpdate:modelValue":o[2]||(o[2]=g=>r.message=g),name:"message",placeholder:"Your Message...",required:""},null,512),[[S,r.message]])])],544)]),s("div",{class:"lastcon"},[s("button",{class:"tbot1",onClick:a},o[7]||(o[7]=[s("div",{class:"tbot2"},[s("p",null,"Back")],-1)])),s("button",{class:"submit",type:"submit",onClick:c},o[8]||(o[8]=[s("div",{class:"sb"},[s("p",null,"Submit Message")],-1)]))])])])]))}},ue=M(le,[["__scopeId","data-v-3ff60585"]]);export{ue as default};

import{_ as W,u as D,g as n,S as I,a as k,b as R,o as P,i as m,j as U,c as T,d as S,e as s,k as v,w as A,l as j,v as L,f as H}from"./index-LoqCfvmX.js";class h{constructor(t=0,o="Network Error"){this.status=t,this.text=o}}const J=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},l={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:J()},_=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},z=(e,t="https://api.emailjs.com")=>{if(!e)return;const o=_(e);l.publicKey=o.publicKey,l.blockHeadless=o.blockHeadless,l.storageProvider=o.storageProvider,l.blockList=o.blockList,l.limitRate=o.limitRate,l.origin=o.origin||t},B=async(e,t,o={})=>{const c=await fetch(l.origin+e,{method:"POST",headers:o,body:t}),r=await c.text(),i=new h(c.status,r);if(c.ok)return i;throw i},C=(e,t,o)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!o||typeof o!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},G=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},q=e=>e.webdriver||!e.languages||e.languages.length===0,K=()=>new h(451,"Unavailable For Headless Browser"),Q=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},X=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},Z=(e,t)=>e instanceof FormData?e.get(t):e[t],E=(e,t)=>{if(X(e))return!1;Q(e.list,e.watchVariable);const o=Z(t,e.watchVariable);return typeof o!="string"?!1:e.list.includes(o)},M=()=>new h(403,"Forbidden"),$=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},ee=async(e,t,o)=>{const c=Number(await o.get(e)||0);return t-Date.now()+c},Y=async(e,t,o)=>{if(!t.throttle||!o)return!1;$(t.throttle,t.id);const c=t.id||e;return await ee(c,t.throttle,o)>0?!0:(await o.set(c,Date.now().toString()),!1)},N=()=>new h(429,"Too Many Requests"),te=async(e,t,o,c)=>{const r=_(c),i=r.publicKey||l.publicKey,y=r.blockHeadless||l.blockHeadless,u=r.storageProvider||l.storageProvider,b={...l.blockList,...r.blockList},p={...l.limitRate,...r.limitRate};return y&&q(navigator)?Promise.reject(K()):(C(i,e,t),G(o),o&&E(b,o)?Promise.reject(M()):await Y(location.pathname,p,u)?Promise.reject(N()):B("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:e,template_id:t,template_params:o}),{"Content-type":"application/json"}))},se=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},oe=e=>typeof e=="string"?document.querySelector(e):e,ae=async(e,t,o,c)=>{const r=_(c),i=r.publicKey||l.publicKey,y=r.blockHeadless||l.blockHeadless,u=l.storageProvider||r.storageProvider,b={...l.blockList,...r.blockList},p={...l.limitRate,...r.limitRate};if(y&&q(navigator))return Promise.reject(K());const f=oe(o);C(i,e,t),se(f);const d=new FormData(f);return E(b,d)?Promise.reject(M()):await Y(location.pathname,p,u)?Promise.reject(N()):(d.append("lib_version","4.4.1"),d.append("service_id",e),d.append("template_id",t),d.append("user_id",i),B("/api/v1.0/email/send-form",d))},x={init:z,send:te,sendForm:ae,EmailJSResponseStatus:h},re={id:"smooth-wrapper"},ie={id:"smooth-content"},ne={class:"con"},le={class:"touch"},ce={class:"allcon"},ue={class:"lastcon"},de={__name:"Contact",setup(e){const t=window.innerWidth<800,o=D();function c(){o.back()}n.registerPlugin(I,k,R),P(()=>{window.scrollTo(0,0),R.create({wrapper:"#smooth-wrapper",smooth:2,effects:!0})});const r=m(null),i=U({name:"",email:"",message:""}),y=()=>{r.value&&r.value.requestSubmit()},u=m(null),b=m(null),p=m(null),f=m(null),d=m(null),V=m(null),F=m(null);P(()=>{r.value&&x.init("fViVKY9Y7-jqKwrLC")});const O=async()=>{if(!r.value)return;if(!i.name.trim())return alert("請輸入姓名");if(!i.email.trim())return alert("請輸入 Email");if(!i.message.trim())return alert("請輸入訊息");n.set(u.value,{display:"flex",opacity:1});const w=()=>new Promise(a=>{n.to(u.value,{opacity:0,duration:999,ease:"linear",onComplete:a})});try{const a=w();await x.sendForm("PiPiChou","template_lgr3x68",r.value),r.value.reset(),setTimeout(()=>{n.to(u.value,{opacity:0,duration:1,display:"none"})},2e3),n.to(p.value,{scaleY:0,opacity:1,duration:.6}),n.to(f.value,{scaleY:1,opacity:1,duration:.6}),n.to(V.value,{opacity:1,duration:1})}catch(a){console.error("Failed to send email:",a),setTimeout(()=>{n.to(u.value,{opacity:0,duration:1,display:"none"})},2e3),n.to(p.value,{scaleY:0,opacity:1,duration:.6}),n.to(d.value,{scaleY:1,opacity:1,duration:.6}),n.to(F.value,{opacity:1,duration:1})}};return P(async()=>{await document.fonts.ready,n.registerPlugin(k),document.fonts.ready.then(()=>{let w=k.create(".tsma",{type:"words",aria:"hidden"});n.from(w.words,{y:10,opacity:0,duration:1.2,ease:"sine.out",stagger:.01,delay:2});let a=k.create(".tbig",{type:"chars",aria:"hidden"});n.from(a.chars,{y:10,opacity:0,duration:.6,ease:"sine.out",stagger:.01,delay:2})})}),P(()=>{n.to(".contact-form",{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",duration:1.5,delay:2.7,opacity:1,ease:"power4.out"}),n.from(".submit",{opacity:0,delay:3.5,duration:.6}),n.from(".tbot1",{opacity:0,delay:3.5,duration:.6})}),(w,a)=>(S(),T("div",re,[s("div",ie,[s("div",{class:"contop",ref_key:"contop",ref:u},[s("div",{class:"loading",ref_key:"loading",ref:p},a[3]||(a[3]=[v(" Waiting"),s("span",{class:"dots"},[s("span",null,"."),s("span",null,"."),s("span",null,".")],-1)]),512),s("div",{class:"success",ref_key:"success",ref:f},a[4]||(a[4]=[s("p",null,"Success!",-1)]),512),s("div",{class:"failed",ref_key:"failed",ref:d},a[5]||(a[5]=[s("p",null,"Failed!",-1)]),512),s("div",{class:"contopw",ref_key:"contopw",ref:b},[s("p",{class:"cw1",ref_key:"cw1",ref:V},"Your message has been sent! Thank You!",512),s("p",{class:"cw2",ref_key:"cw2",ref:F},"Failed to send your message. Please try again.",512)],512)],512),s("div",ne,[a[10]||(a[10]=s("div",{class:"contitle"},[s("p",{class:"tbig"},[v("Let's Be In"),s("br"),v("Touch")])],-1)),s("div",le,[a[6]||(a[6]=s("div",{class:"ttop"},[s("p",{class:"tsma"},[v("I genuinely care about your ideas and your wellbeing. "),s("br"),v("Feel free to reach out — I’d love to hear from you...")])],-1)),s("form",{ref_key:"contactForm",ref:r,onSubmit:A(O,["prevent"]),class:"contact-form"},[s("div",ce,[j(s("input",{class:"i1","onUpdate:modelValue":a[0]||(a[0]=g=>i.name=g),name:"name",type:"text",placeholder:"name",required:""},null,512),[[L,i.name]]),j(s("input",{class:"i1","onUpdate:modelValue":a[1]||(a[1]=g=>i.email=g),name:"email",type:"email",placeholder:"@gmail.com",required:""},null,512),[[L,i.email]]),j(s("textarea",{class:"i2","onUpdate:modelValue":a[2]||(a[2]=g=>i.message=g),name:"message",placeholder:"Your Message...",required:""},null,512),[[L,i.message]])])],544)]),s("div",ue,[t?H("",!0):(S(),T("button",{key:0,class:"tbot1",onClick:c},a[7]||(a[7]=[s("div",{class:"tbot2"},[s("p",null,"Back")],-1)]))),s("button",{class:"submit",type:"submit",onClick:y},a[8]||(a[8]=[s("div",{class:"sb"},[s("p",null,"Submit Message")],-1)])),t?(S(),T("button",{key:1,class:"tbot1",onClick:c},a[9]||(a[9]=[s("div",{class:"tbot2"},[s("p",null,"Back")],-1)]))):H("",!0)])])])]))}},pe=W(de,[["__scopeId","data-v-0ff2df07"]]);export{pe as default};
